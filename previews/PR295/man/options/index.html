<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Options · PGFPlotsX.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="PGFPlotsX.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">PGFPlotsX.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../structs/">Overview</a></li><li class="is-active"><a class="tocitem" href>Options</a><ul class="internal"><li><a class="tocitem" href="#The-@pgf-macro"><span>The <code>@pgf</code> macro</span></a></li><li><a class="tocitem" href="#Modifying-options-after-an-object-is-created"><span>Modifying options after an object is created</span></a></li><li><a class="tocitem" href="#Working-with-options"><span>Working with options</span></a></li><li><a class="tocitem" href="#Empty-options"><span>Empty options</span></a></li><li><a class="tocitem" href="#The-PGFPlotsX.Options-constructor"><span>The <code>PGFPlotsX.Options</code> constructor</span></a></li></ul></li><li><a class="tocitem" href="../data/">Data</a></li><li><a class="tocitem" href="../axiselements/">Axis elements</a></li><li><a class="tocitem" href="../axislike/"><code>Axis</code> &amp; friends</a></li><li><a class="tocitem" href="../picdoc/">TikzPicture</a></li><li><a class="tocitem" href="../save/">Showing / Exporting figures</a></li><li><a class="tocitem" href="../internals/">Internals</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/coordinates/">Coordinates</a></li><li><a class="tocitem" href="../../examples/tables/">Tables</a></li><li><a class="tocitem" href="../../examples/axislike/">Axis-like objects</a></li><li><a class="tocitem" href="../../examples/gallery/">PGFPlots gallery</a></li><li><a class="tocitem" href="../../examples/juliatypes/">Julia types</a></li><li><a class="tocitem" href="../../examples/convenience/">Convenience constructs</a></li><li><a class="tocitem" href="../../examples/latex/">Using LaTeX code</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Options</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Options</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/KristofferC/PGFPlotsX.jl/blob/master/docs/src/man/options.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="options_header"><a class="docs-heading-anchor" href="#options_header">Options</a><a id="options_header-1"></a><a class="docs-heading-anchor-permalink" href="#options_header" title="Permalink"></a></h1><p>Options, which usually occur between brackets (<code>[]</code>) after commands like <code>\addplot</code>, <code>table</code>, or beginnings of environments like <code>\begin{axis}</code> in LaTeX code, are key to most of the functionality of PGFPlots.</p><h2 id="The-@pgf-macro"><a class="docs-heading-anchor" href="#The-@pgf-macro">The <code>@pgf</code> macro</a><a id="The-@pgf-macro-1"></a><a class="docs-heading-anchor-permalink" href="#The-@pgf-macro" title="Permalink"></a></h2><p>Use the <code>@pgf {}</code> macro to define options.</p><article class="docstring"><header><a class="docstring-binding" id="PGFPlotsX.@pgf" href="#PGFPlotsX.@pgf"><code>PGFPlotsX.@pgf</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@pgf { ... }

@pgf some(nested(form({ ... })),
          with_multiple_options({ ... }))</code></pre><p>Construct <a href="#PGFPlotsX.Options"><code>Options</code></a> from comma-delimited <code>key</code> (without value), <code>key = value</code>, <code>key : value</code>, or <code>key =&gt; value</code> pairs enclosed in <code>{ ... }</code>, anywhere in the expression.</p><p>The argument is traversed recursively, allowing <code>{ ... }</code> expressions in multiple places.</p><p>Multi-word keys need to be either quoted, or written with underscores replacing spaces.</p><pre><code class="language-julia hljs">@pgf {
    &quot;only marks&quot;,
    mark_size = &quot;0.6pt&quot;,
    mark = &quot;o&quot;,
    color =&gt; &quot;black&quot;,
}</code></pre><p>Another <code>Options</code> can be spliced into one being created using <code>...</code>, e.g.</p><pre><code class="nohighlight hljs">theme = @pgf {xmajorgrids, x_grid_style = &quot;white&quot;}

axis_opt = @pgf {theme..., title = &quot;My figure&quot;}</code></pre><p>Use <code>{}</code> for empty options that print as <code>[]</code> in LaTeX.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/PGFPlotsX.jl/blob/16dd24749ae3cc7bfe280f4b8c5da33a1df4ed7e/src/options.jl#L95-L129">source</a></section></article><p>For constructors that accept options, they always come <em>first</em>. When omitted, there are assumed to be no options.</p><pre><code class="language-julia-repl hljs">julia&gt; c = Coordinates([1, 2, 3], [2, 4, 8]);

julia&gt; p = @pgf PlotInc({ &quot;very thick&quot;, &quot;mark&quot; =&gt; &quot;halfcircle&quot; }, c);

julia&gt; print_tex(p); # print_tex can be used to preview the generated .tex
\addplot+[very thick, mark={halfcircle}]
    coordinates {
        (1,2)
        (2,4)
        (3,8)
    }
    ;</code></pre><p>Inside the expression following <code>@pgf</code>, <code>{}</code> expressions can be nested, and can also occur in multiple places.</p><pre><code class="language-julia-repl hljs">julia&gt; @pgf a = Axis(
           {
               &quot;axis background/.style&quot; =
               {
                   shade,
                   top_color = &quot;gray&quot;,
                   bottom_color = &quot;white&quot;,
               },
               ymode = &quot;log&quot;
           },
           PlotInc(
           {
               smooth
           },
           c)
       );</code></pre><p>which is converted to LaTeX as</p><pre><code class="language-julia-repl hljs">julia&gt; print_tex(a)
\begin{axis}[axis background/.style={shade, top color={gray}, bottom color={white}}, ymode={log}]
    \addplot+[smooth]
        coordinates {
            (1,2)
            (2,4)
            (3,8)
        }
        ;
\end{axis}</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>If you use <code>@pgf</code> inside argument lists, make sure you wrap its argument in parentheses, eg</p><pre><code class="language-julia hljs">Plot(@pgf({ scatter }), some_table)</code></pre><p>Otherwise Julia will also pass the subsequent arguments through <code>@pgf</code>, which results in an error since they are combined into a tuple.</p></div></div><p>Each option is either a standalone <em>keyword</em> (without value, modifying the plot by itself), or a <em>keyword-value pair</em>. Keywords can be entered</p><ol><li><p>as Julia identifiers, which is useful for keywords with no spaces (eg <code>smooth</code>),</p></li><li><p>separated by underscores, which are replaced by spaces (eg <code>only_marks</code> will appear in LaTeX code as <code>only marks</code>),</p></li><li><p>or quoted as strings, eg <code>&quot;very thick&quot;</code>.</p></li></ol><p><em>Values</em> are provided after a <code>=</code>, <code>:</code>, or <code>=&gt;</code>, so the following are equivalent:</p><ol><li><p><code>@pgf { draw = &quot;black&quot; }</code>,</p></li><li><p><code>@pgf { draw : &quot;black&quot; }</code>,</p></li><li><p><code>@pgf { draw =&gt; &quot;black&quot; }</code>.</p></li></ol><p>Values should be valid Julia expressions, as they are evaluated, so you cannot use <code>@pgf { draw = black }</code> unless <code>black</code> is assigned to some Julia value in that context.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Keys that contain symbols that in Julia are operators (e.g the key <code>&quot;axis background/.style&quot;</code>) have to be entered as strings.</p></div></div><h3 id="Transformations"><a class="docs-heading-anchor" href="#Transformations">Transformations</a><a id="Transformations-1"></a><a class="docs-heading-anchor-permalink" href="#Transformations" title="Permalink"></a></h3><p>In addition to replacing underscores in keys, the following transformations of values are done when the options are written in <code>.tex</code> style:</p><ul><li><p>A list as a value is written as “comma joined” e.g. <code>[1, 2, 3] -&gt; &quot;1, 2, 3&quot;</code>.</p></li><li><p>A tuple as a value is written with braces delimiting the elements e.g. <code>(60, 30) -&gt; {60}{30}</code></p></li></ul><h2 id="Modifying-options-after-an-object-is-created"><a class="docs-heading-anchor" href="#Modifying-options-after-an-object-is-created">Modifying options after an object is created</a><a id="Modifying-options-after-an-object-is-created-1"></a><a class="docs-heading-anchor-permalink" href="#Modifying-options-after-an-object-is-created" title="Permalink"></a></h2><p>It is sometimes convenient to set and get options after an object has been created.</p><p>You can use <code>getindex</code>, <code>setindex!</code> (ie <code>obj[&quot;option&quot;]</code> or <code>obj[&quot;option&quot;] = value</code>, respectively), and <code>delete!</code> just like you would for modifiable associative collections (eg a <code>Dict</code>).</p><pre><code class="language-julia-repl hljs">julia&gt; c = Coordinates([1, 2, 3], [2, 4, 8]);

julia&gt; p = PlotInc(c);

julia&gt; p[&quot;fill&quot;] = &quot;blue&quot;;

julia&gt; p[&quot;fill&quot;]
&quot;blue&quot;

julia&gt; @pgf p[&quot;axis background/.style&quot;] = { shade, top_color = &quot;gray&quot;, bottom_color = &quot;white&quot; };

julia&gt; p[&quot;axis background/.style&quot;][&quot;top_color&quot;];

julia&gt; p[&quot;very thick&quot;] = nothing # Set a value-less options;

julia&gt; delete!(p, &quot;fill&quot;);

julia&gt; print_tex(p)
\addplot+[axis background/.style={shade, top color={gray}, bottom color={white}}, very thick]
    coordinates {
        (1,2)
        (2,4)
        (3,8)
    }
    ;</code></pre><h2 id="Working-with-options"><a class="docs-heading-anchor" href="#Working-with-options">Working with options</a><a id="Working-with-options-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-options" title="Permalink"></a></h2><p>Collections of options are first-class objects: they can be used independently of <code>Plot</code>, <code>Axis</code>, and similar, copied, modified, and merged.</p><p>This allows a disciplined approach to working with complex plots: for example, you can create a set of default options for some purpose (eg plots in a research paper, with a style imposed by a journal), and then modify this as needed for individual plots. It is then easy to apply, for example, a “theme” to an axis where the theme is a set of options already saved.</p><p>Another use case is creating orthogonal sets of options, eg one for axis annotations and another one for legends, and merging these as necessary.</p><h3 id="Extending-and-combining-options"><a class="docs-heading-anchor" href="#Extending-and-combining-options">Extending and combining options</a><a id="Extending-and-combining-options-1"></a><a class="docs-heading-anchor-permalink" href="#Extending-and-combining-options" title="Permalink"></a></h3><p>Use  <code>...</code> to splice an option into another one, e.g.</p><pre><code class="language-julia-repl hljs">julia&gt; theme = @pgf {xmajorgrids, ymajorgrids};

julia&gt; a = Axis(
           @pgf {theme..., title = &quot;Foo&quot;}
       );

julia&gt; print_tex(a)
\begin{axis}[xmajorgrids, ymajorgrids, title={Foo}]
\end{axis}

julia&gt; print_tex(theme) # original is not modified
[xmajorgrids, ymajorgrids]</code></pre><p>You can also <code>merge</code> sets of options:</p><pre><code class="language-julia-repl hljs">julia&gt; O1 = @pgf { color = &quot;red&quot; };

julia&gt; O2 = @pgf { dashed };

julia&gt; O3 = @pgf { no_marks };

julia&gt; print_tex(Plot(merge(O1, O2, O3), Table(1:2, 1:2)))
\addplot[color={red}, dashed, no marks]
    table[row sep={\\}]
    {
        \\
        1  1  \\
        2  2  \\
    }
    ;</code></pre><p>Again, the value of original options is unchanged above.</p><h3 id="Modifying-options"><a class="docs-heading-anchor" href="#Modifying-options">Modifying options</a><a id="Modifying-options-1"></a><a class="docs-heading-anchor-permalink" href="#Modifying-options" title="Permalink"></a></h3><p>You can modify existing options with <code>push!</code>, <code>append!</code>, and <code>merge!</code>. The first two expect pairs of a string and a value (may be <code>nothing</code> for options like <code>&quot;red&quot;</code>), and are mostly useful when you are generating options using a function. <code>merge!</code> of course accepts options.</p><pre><code class="language-julia-repl hljs">julia&gt; opt = @pgf {};

julia&gt; push!(opt, :color =&gt; &quot;red&quot;, :mark =&gt; &quot;x&quot;);

julia&gt; append!(opt, [:style =&gt; &quot;thick&quot;, :mark_options =&gt; @pgf { scale = 0.4 }]);

julia&gt; merge!(opt, @pgf { &quot;error bars/y dir=both&quot;, &quot;error bars/y explicit&quot; });

julia&gt; print_tex(opt)
[color={red}, mark={x}, style={thick}, mark options={scale={0.4}}, error bars/y dir=both, error bars/y explicit]</code></pre><p>All containers with options also support using <code>merge!</code> directly.</p><pre><code class="language-julia-repl hljs">julia&gt; a = Axis();

julia&gt; @pgf opts = {xmin = 0, ymax = 1, ybar};

julia&gt; merge!(a, opts);

julia&gt; print_tex(a)
\begin{axis}[xmin={0}, ymax={1}, ybar]
\end{axis}</code></pre><h2 id="Empty-options"><a class="docs-heading-anchor" href="#Empty-options">Empty options</a><a id="Empty-options-1"></a><a class="docs-heading-anchor-permalink" href="#Empty-options" title="Permalink"></a></h2><p>Empty options are not emitted by default, but using in LaTeX code <code>[]</code> can be useful in some cases, eg when combined with global settings <code>\pgfplotsset{every axis plot/.append style={...}}</code>. In order to force printing empty options, it is recommended to use <code>{}</code> in expressions like</p><pre><code class="language-julia hljs">@pgf Plot({}, ...)</code></pre><h2 id="The-PGFPlotsX.Options-constructor"><a class="docs-heading-anchor" href="#The-PGFPlotsX.Options-constructor">The <code>PGFPlotsX.Options</code> constructor</a><a id="The-PGFPlotsX.Options-constructor-1"></a><a class="docs-heading-anchor-permalink" href="#The-PGFPlotsX.Options-constructor" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="PGFPlotsX.Options" href="#PGFPlotsX.Options"><code>PGFPlotsX.Options</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Options(args; print_empty)
</code></pre><p>Options passed to PGFPlots for various structures (<code>table</code>, <code>plot</code>, etc).</p><p>Contents emitted in <code>key = value</code> form, or <code>key</code> when <code>value ≡ nothing</code>. Example:</p><pre><code class="language-julia-repl hljs">julia&gt; PGFPlotsX.Options(:color =&gt; &quot;red&quot;, :only_marks =&gt; nothing)
[color={red}, only marks]</code></pre><p>The constuctor is not exported but part of the API, for use in packages that depend on PGFPlotsX, or code producing complicated plots. It is recommended that the <a href="#PGFPlotsX.@pgf"><code>@pgf</code></a> macro is used in scripts and interactive code.</p><p>When <code>print_empty = false</code> (the default), empty options are not printed. Use <code>print_empty = true</code> to force printing a <code>[]</code> in this case.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/KristofferC/PGFPlotsX.jl/blob/16dd24749ae3cc7bfe280f4b8c5da33a1df4ed7e/src/options.jl#L16-L34">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../structs/">« Overview</a><a class="docs-footer-nextpage" href="../data/">Data »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.16 on <span class="colophon-date" title="Monday 2 May 2022 08:09">Monday 2 May 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
